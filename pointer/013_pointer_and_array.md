# 指针与数组（Pointer & Array）

## 学习目标

- 理解数组名和指针的关系
- 掌握指针遍历数组的方式
- 理解 `arr[i]` 和 `*(arr + i)` 的等价性
- 初步理解数组作为函数参数的传递方式

## 1. 数组名就是地址

在 C 中，数组名本质上是该数组**首元素的地址**。

```c
int arr[3] = {10, 20, 30};
printf("%p\n", arr);    // 地址：等价于 &arr[0]
printf("%d\n", *arr);   // 输出 10：等价于 arr[0]
```

## 2. 指针遍历数组

通过指针变量访问数组内容

```c
int arr[3] = {10, 20, 30};
int *p = arr;

for (int i=0; i<3; i++) {
    printf("%d\n", *(p + i));
}
```

## 3. 等价表达式

```c
arr[i]    == *(arr + i)
p[i]      == *(p + i)
*(arr + i) == *(p + i) == arr[i]
```

可以把 `arr` 当作指针常量，不能改，但能用 `p = arr` 创建指针变量 `p` 遍历它。

## 4. 数组作为函数参数

当数组传给函数时，传递的是首地址，即指针：

```c
void print_array(int *arr, int size) {
    for (int i = 0; i < size; i++) {
        printf("%d ", arr[i]);
    }
}
```

调用方式：

```c
int data[5] = {1, 2, 3, 4, 5};
print_array(data, 5);  // 实际上传递的是 &data[0]
```

## 5. 练习 (来自 ChatGPT)

- 有一组蛋白分子量组成的数组: `{55000, 68000, 43000}`，用指针遍历该数组，计算平均质量并输出;
- 逆序打印数组;
- 用 `scanf` 结合指针读入数组值 (例如：用户输入 5 个值)


## 6. QA

### `*`（解引用运算符）的意义是什么？能否脱离指针单独使用？  
解引用的意思是：访问某个地址中存储的值。在这个语境下不能脱离指针使用。

### `int *arr` 在函数参数中是什么意思？是传入 int 指针吗？
是的，int *arr 表示传入的是一个“指向 int 类型的指针”。  
**注意**：无法在函数中通过 sizeof(arr) 得到数组的元素个数，因为 arr 是指针，不再是完整数组。

### 数组能通过指针访问，是因为数组的内存地址是连续的吗？
数组在内存中是一段连续的内存块，所以指针能够安全地通过偏移来遍历元素。